<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:f="http://java.sun.com/jsf/core">

<head>
	<title>Edit project</title>
    <c:set var="context"
           value="#{facesContext.externalContext.requestContextPath}"/>
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <script type="text/javascript" src="bootstrap/js/jquery-1.7.2.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="style.css"></link>
</head>
<body>
	<div id="container">
	<h:form>
	
		<ui:include src="blocks/menubar_block.xhtml"/>
		<ui:include src="blocks/left_sidebar_block.xhtml"/>
		<ui:include src="blocks/right_sidebar_block.xhtml"/>

		<div id="content">
		
			<h:form styleClass="form-actions">
				<h:outputLabel value="Edit project" styleClass="text-info"/> <br/>
				<h:outputLabel value="Title"> <br/>
				<h:inputText value="#{project.tmpProject.title}"/></h:outputLabel> <br/>
				<h:outputLabel value="Description"> <br/>
				<h:inputText value="#{project.tmpProject.description}"/></h:outputLabel> <br/>
				<b><h:outputText value="Leader" /></b> <br/>
				<h:selectOneMenu id="project_lead_select" value="#{project.tmpProject.leader.id}" >
					<f:selectItems value="#{sample.people}" var="p" itemLabel="#{p.name} #{p.surname}" itemValue="#{p.id}" />
				</h:selectOneMenu> <br/>
				<b><h:outputText value="Customer"/></b> <br/>
				<h:selectOneMenu value="#{project.tmpProject.customer.id}" >
					<f:selectItems value="#{sample.customers}" var="c" itemLabel="#{c.title}" itemValue="#{c.id}" />
				</h:selectOneMenu> <br/>
				<h:commandButton action="#{project.saveChanges}" value="Save" styleClass="btn btn-inverse"/>
			</h:form>
			<br/>
			<table class="table table-bordered">
				<tbody>
					<tr>
						<td><b>Title</b></td>
						<td><b>Description</b></td>
						
					</tr>
				</tbody>
				<ui:repeat var="skill" value="#{project.getTmpProject().skills}">
					<tr>
						<td><h:outputText value="#{skill.title}"/> </td>
						<td><h:outputText value="#{skill.description}"/> </td>
						<td>
							<h:commandLink styleClass="btn btn-inverse btn-small" action="#{project.removeSkillFromProject(skill.id)}"> 
								<i class="icon-white icon-remove"></i>
							</h:commandLink>
						</td>
					</tr>
				</ui:repeat>
			</table>
			<br/>
			<h:selectOneMenu value="#{project.skill.id}">
				<f:selectItems value="#{sample.skills}" var="s"
                       itemLabel="#{s.title}" itemValue="#{s.id}" />
				</h:selectOneMenu>
				<br/>
				<h:commandButton action="#{project.addSkillToProject}" value="Add skill to Project" styleClass="btn btn-inverse"/>
			
		</div>
		
		<ui:include src="blocks/footer_block.xhtml"/>
	
	</h:form>
	</div>
</body>
</html>