<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jstl/core">

<head>
	<title>List of people</title>
    <c:set var="context"
           value="#{facesContext.externalContext.requestContextPath}"/>
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <script type="text/javascript" src="bootstrap/js/jquery-1.7.2.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="style.css"></link>
</head>
<body>
	<div id="container">
	<h:form>
	
		<ui:include src="blocks/menubar_block.xhtml"/>
		<ui:include src="blocks/left_sidebar_block.xhtml"/>
		<ui:include src="blocks/right_sidebar_block.xhtml"/>

		<div id="content">
			<table class="table table-bordered" >
			<tr>
				<td style="text-align: center; font-weight: bold">Name</td>
				<td style="text-align: center; font-weight: bold">Surname</td>
				<td style="text-align: center; font-weight: bold">Skills</td>
			</tr>
			<ui:repeat var="person" value="#{sample.people}">
            <tr>
				<td><h:commandLink action="#{personB.getUrl(person.id)}">#{person.name}</h:commandLink></td>
				<td><h:commandLink action="#{personB.getUrl(person.id)}">#{person.surname}</h:commandLink></td>
              <!--  <td><h:outputText value="#{person.name}"/> </td>
                <td><h:outputText value="#{person.surname}"/> </td> -->
                <td>
					<ui:repeat var="skill" value="${person.skills}">
						<h:outputText value="#{skill.title} "/>
					</ui:repeat>
                </td>
                <h:panelGroup rendered="#{auth.admin == true}">
                <td>
					<h:commandLink class="btn btn-inverse btn-small" action="#{personB.remove(person.id)}"> 
						<i class="icon-white icon-remove"></i>
					</h:commandLink>
					<h:commandLink class="btn btn-inverse btn-small" action="#{personB.getUrlEdit(person.id)}"> 
						<i class="icon-white icon-pencil"></i>
					</h:commandLink>
				</td>
                </h:panelGroup>
            </tr>
			</ui:repeat>
			</table>
			<br/>
            <h:panelGroup rendered="#{auth.admin == true}">
			<h:commandLink class="btn btn-inverse btn-small" action="#{personB.getUrlAdd()}"> 
				<i class="icon-white icon-plus"></i>Add new preson
			</h:commandLink>
            </h:panelGroup>
		</div>
		
		<ui:include src="blocks/footer_block.xhtml"/>
	
	</h:form>
	</div>
</body>
</html>